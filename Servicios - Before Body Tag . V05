<script>
  document.addEventListener("DOMContentLoaded", function () {
    const servicios = [
      {
        nombre: "Soluciones Energéticas",
        descripcion: "Infraestructura energética inteligente para operaciones eficientes y resilientes dentro de los sectores comerciales e industriales. Garantizamos un suministro eléctrico continuo mediante soluciones que combinan innovación tecnológica y sostenibilidad.",
        imagen: "images/hero-image.jpg",
        lista: [
          {
            titulo: "Energía de contingencia",
            descripcion: "La <strong style='color:#F37023'>Energía de Contingencia</strong> garantiza el suministro eléctrico ininterrumpido mediante sistemas de respaldo como generadores y UPS, asegurando continuidad operativa ante fallos en la red."
          },
          {
            titulo: "Sistema fotovoltaico",
            descripcion: "El <strong style='color:#F37023'>Sistema Fotovoltaico</strong> permite la generación de energía limpia y sostenible a partir de la radiación solar, reduciendo costos operativos y dependencia de la red eléctrica."
          },
          {
            titulo: "Protección eléctrica avanzada",
            descripcion: "La <strong style='color:#F37023'>Protección Eléctrica Avanzada</strong> resguarda infraestructuras contra sobrecargas, cortocircuitos y sobretensiones mediante sistemas de monitoreo y dispositivos de seguridad."
          },
          {
            titulo: "Calidad de energía eléctrica",
            descripcion: "La <strong style='color:#F37023'>Calidad de Energía Eléctrica</strong> optimiza el rendimiento de los sistemas eléctricos, minimizando perturbaciones como armónicos, variaciones de voltaje y fluctuaciones de frecuencia."
          }
        ]
      },
      {
        nombre: "Conectividad Física",
        descripcion: "Soluciones de infraestructura para la transmisión de datos mediante sistemas de cableado de cobre y fibra óptica, garantizando la integridad y eficiencia de las redes de comunicación.",
        imagen: "images/connectivity.jpg",
        lista: [
          {
            titulo: "Canalización especializada",
            descripcion: "La <strong style='color:#F37023'>Canalización Especializada</strong> garantiza la protección y organización eficiente del cableado eléctrico y de datos, optimizando la infraestructura y asegurando su durabilidad."
          },
          {
            titulo: "Certificación de fibra óptica y cobre",
            descripcion: "La <strong style='color:#F37023'>Certificación de Fibra Óptica y Cobre</strong> asegura el rendimiento y cumplimiento de estándares internacionales en redes de comunicación, garantizando una conexión fiable y de alta calidad."
          },
          {
            titulo: "Cableado estructurado en categorías: 6, 6A, 7A",
            descripcion: "El <strong style='color:#F37023'>cableado estructurado en categorías 6, 6A y 7A</strong> ofrece soluciones de alta velocidad para redes, soportando hasta 10 Gbps con diferentes alcances, adaptándose a necesidades de rendimiento y capacidad en diversas aplicaciones."
          },
          {
            titulo: "Fibra óptica: planta interna, planta externa",
            descripcion: "La <strong style='color:#F37023'>fibra óptica, en planta interna y externa</strong>, proporciona conexión rápida y confiable, tanto dentro de edificios como entre sedes, asegurando alto rendimiento en largas distancias."
          }
        ]
      },
      {
        nombre: "Infraestructura de Redes",
        descripcion: "Soluciones integrales para garantizar la conectividad y funcionamiento eficiente de redes y sistemas de comunicación con tecnología de última generación.",
        imagen: "images/networks.jpg",
        lista: [
          {
            titulo: "Networking: switches, routers y redes WiFi",
            descripcion: "El servicio de <strong style='color:#F37023'>Networking</strong> abarca switches para redes locales, routers para gestionar el tráfico entre redes y WiFi para conectividad inalámbrica, asegurando una infraestructura eficiente y segura."
          },
          {
            titulo: "Radioenlaces para conectividad a distancia",
            descripcion: "Los <strong style='color:#F37023'>radioenlaces</strong> proporcionan conectividad a larga distancia, permitiendo la transmisión de datos de manera estable y segura entre diferentes ubicaciones sin necesidad de cableado físico."
          },
          {
            titulo: "Soluciones convergentes e hiperconvergente, servidores y almacenamiento",
            descripcion: "Las <strong style='color:#F37023'>soluciones convergentes e hiperconvergentes</strong> integran servidores, almacenamiento y redes en una sola plataforma, optimizando el rendimiento y simplificando la gestión."
          }
        ]
      },
      {
        nombre: "Sistemas Especiales",
        descripcion: "Soluciones avanzadas de comunicación, seguridad y control que optimizan operaciones y garantizan seguridad en entornos diversos.",
        imagen: "images/special-systems.jpg",
        lista: [
          {
            titulo: "CCTV y control de acceso",
            descripcion: "El servicio de <strong style='color:#F37023'>CCTV y control de acceso</strong> combina videovigilancia y sistemas de control para gestionar entradas, asegurando la protección de instalaciones y personas mediante monitoreo y acceso restringido."
          },
          {
            titulo: "Sistemas de intrusión y alarmas",
            descripcion: "Los <strong style='color:#F37023'>sistemas de intrusión y alarmas</strong> detectan y alertan sobre intentos de acceso no autorizado, protegiendo instalaciones mediante sensores y notificaciones inmediatas."
          },
          {
            titulo: "Soluciones de telefonía IP y megafonía",
            descripcion: "Las soluciones de <strong style='color:#F37023'>telefonía IP y megafonía</strong> ofrecen comunicación eficiente a través de Internet, permitiendo llamadas de alta calidad y sistemas de megafonía en tiempo real."
          },
          {
            titulo: "Integración de sistemas BMS",
            descripcion: "La integración de <strong style='color:#F37023'>sistemas BMS</strong> (Building Management System) permite la gestión centralizada de diversos sistemas de un edificio, mejorando la eficiencia energética y reduciendo costos operativos."
          },
          {
            titulo: "Soluciones para telepresencia y comunicación empresarial",
            descripcion: "Las soluciones para <strong style='color:#F37023'>telepresencia y comunicación empresarial</strong> facilitan reuniones virtuales de alta calidad, mejorando la colaboración y productividad entre equipos."
          },
          {
            titulo: "Soluciones de ciberseguridad: firewalls, IPS/IDS",
            descripcion: "Las soluciones de <strong style='color:#F37023'>ciberseguridad</strong> incluyen firewalls para bloquear accesos no autorizados y sistemas de prevención de intrusiones."
          },
          {
            titulo: "Comunicación por radio (UHF/VHF)",
            descripcion: "La <strong style='color:#F37023'>comunicación por radio (UHF/VHF)</strong> permite transmisión de voz y datos a largas distancias, ideal para ambientes industriales o de emergencia."
          }
        ]
      },
      {
        nombre: "Centro de Datos",
        descripcion: "Ofrecemos soluciones completas en diseño, construcción y mantenimiento de centros de datos, cumpliendo los más altos estándares de seguridad, eficiencia y disponibilidad.",
        imagen: "images/datacenter.jpg",
        lista: [
          {
            titulo: "Diseño y construcción de espacios físicos",
            descripcion: "El <strong style='color:#F37023'>diseño y construcción de espacios físicos</strong> para data centers garantiza infraestructura segura y eficiente."
          },
          {
            titulo: "Instalación de sistemas",
            descripcion: `
              <ul style="list-style:none; padding-left:0;">
                <li>• Conectividad</li>
                <li>• Respaldo de energía</li>
                <li>• Climatización</li>
                <li>• Monitoreo</li>
                <li>• Detección y extinción de incendios</li>
                <li>• Automatización y control</li>
              </ul>
            `
          },
          {
            titulo: "Mantenimiento y administración",
            descripcion: "El <strong style='color:#F37023'>mantenimiento y administración de data centers</strong> garantiza su operatividad, seguridad y eficiencia."
          },
          {
            titulo: "Diseño conforme a estándares Tier 1, 2, 3, y 4",
            descripcion: "El <strong style='color:#F37023'>diseño conforme a estándares Tier 1, 2, 3 y 4</strong> garantiza distintos niveles de disponibilidad y redundancia en data centers."
          }
        ]
      }
    ];

let servicioActual = 0;

  // Seleccionamos los botones de navegación usando la nueva clase
  const siguienteBtn = document.querySelector('.boton-navegacion.siguiente');
  const anteriorBtn = document.querySelector('.boton-navegacion.anterior');

  // Función para actualizar el estado de los botones de navegación
  function actualizarNavegacion() {
    if (anteriorBtn) {
      anteriorBtn.disabled = servicioActual === 0;
      if (servicioActual === 0) {
        anteriorBtn.classList.add('rebote');
        setTimeout(() => anteriorBtn.classList.remove('rebote'), 800);
      }
    }
    if (siguienteBtn) {
      siguienteBtn.disabled = servicioActual === servicios.length - 1;
      if (servicioActual === servicios.length - 1) {
        siguienteBtn.classList.add('rebote');
        setTimeout(() => siguienteBtn.classList.remove('rebote'), 800);
      }
    }
  }

  // Función para actualizar el contenido del servicio
  function actualizarServicio(index) {
    const prevServicio = servicioActual; // Guardamos el valor anterior
    servicioActual = index;
    const servicio = servicios[index];

    // Actualiza contenido principal
    document.querySelector(".heading-info-servicio").textContent = servicio.nombre;
    document.querySelector(".paragraph-6").textContent = servicio.descripcion;
    document.querySelector(".imagen-servicio-container").src = servicio.imagen;

    // Genera la lista de servicios dentro de cada categoría
    const listaHTML = servicio.lista
      .map((item, idx) =>
        `<li class="list-item-services ${idx === 0 ? "activo" : ""}" data-index="${idx}">${item.titulo}</li>`
      )
      .join("");
    document.querySelector(".list").innerHTML = listaHTML;
    document.querySelector(".paragraph-7").innerHTML = servicio.lista[0].descripcion;

    // Remueve la clase activa de todos los botones de servicio y sus textos
    document.querySelectorAll(".boton-servicio").forEach((btn) => {
      btn.classList.remove("activo");
      const titulo = btn.querySelector(".Titulo-Boton-servicio");
      if (titulo) {
        titulo.classList.remove("Titulo-Boton-servicio-activo");
      }
    });

    // Activa el botón de servicio correspondiente
    const botonActivo = document.querySelectorAll(".boton-servicio")[index];
    if (botonActivo) {
      botonActivo.classList.add("activo");
      const tituloActivo = botonActivo.querySelector(".Titulo-Boton-servicio");
      if (tituloActivo) {
        tituloActivo.classList.add("Titulo-Boton-servicio-activo");
      }
    }

    // Actualiza eventos de la lista interna
    agregarEventosLista();

    // Actualiza la navegación
    actualizarNavegacion();

    // Animación de feedback en el botón de navegación
    if (index > prevServicio && siguienteBtn) {
      siguienteBtn.style.transform = 'scale(0.95)';
      setTimeout(() => {
        siguienteBtn.style.transform = '';
      }, 100);
    } else if (index < prevServicio && anteriorBtn) {
      anteriorBtn.style.transform = 'scale(0.95)';
      setTimeout(() => {
        anteriorBtn.style.transform = '';
      }, 100);
    }
  }

  function agregarEventosLista() {
    document.querySelectorAll(".list-item-services").forEach((item) => {
      item.addEventListener("click", function () {
        document.querySelectorAll(".list-item-services").forEach((el) => el.classList.remove("activo"));
        this.classList.add("activo");

        const servicio = servicios[servicioActual];
        const index = parseInt(this.getAttribute("data-index"));
        document.querySelector(".paragraph-7").innerHTML = servicio.lista[index].descripcion;
      });
    });
  }

  // Eventos para los botones de selección de servicios
  document.querySelectorAll(".boton-servicio").forEach((btn, index) => {
    btn.addEventListener("click", () => actualizarServicio(index));
  });

  // Eventos para los botones de navegación
  if (siguienteBtn) {
    siguienteBtn.addEventListener("click", function () {
      if (servicioActual < servicios.length - 1) {
        actualizarServicio(servicioActual + 1);
      }
    });
  }

  if (anteriorBtn) {
    anteriorBtn.addEventListener("click", function () {
      if (servicioActual > 0) {
        actualizarServicio(servicioActual - 1);
      }
    });
  }

  // Efecto de arrastre táctil para navegación
  let touchStartX = 0;
  document.addEventListener('touchstart', e => {
    touchStartX = e.touches[0].clientX;
  }, false);

  document.addEventListener('touchend', e => {
    const touchEndX = e.changedTouches[0].clientX;
    const diffX = touchStartX - touchEndX;
    if (Math.abs(diffX) > 50) {
      if (diffX > 0 && servicioActual < servicios.length - 1) {
        actualizarServicio(servicioActual + 1);
      } else if (diffX < 0 && servicioActual > 0) {
        actualizarServicio(servicioActual - 1);
      }
    }
  });

  // Inicializa con el primer servicio seleccionado
  actualizarServicio(0);

  // Código para efecto ripple en botones (elegant-btn)
  const buttons = document.querySelectorAll('.elegant-btn');
  
  buttons.forEach(button => {
    button.addEventListener('click', function(e) {
      let rect = button.getBoundingClientRect();
      let x = e.clientX - rect.left;
      let y = e.clientY - rect.top;
      
      let ripple = document.createElement('span');
      ripple.style.left = x + 'px';
      ripple.style.top = y + 'px';
      ripple.classList.add('ripple-effect');
      
      this.appendChild(ripple);
      
      setTimeout(() => {
        ripple.remove();
      }, 600);
    });
  });
});
</script>
